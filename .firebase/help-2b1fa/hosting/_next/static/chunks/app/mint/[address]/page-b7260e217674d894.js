(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6217],{93827:function(e,t,a){Promise.resolve().then(a.bind(a,95689))},95689:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(59533),i=a(31229),s=a(61250),r=a(3810),n=a(24351),o=a(42981),c=a(31378),d=a(66471),u=a(38985),m=a(28291),x=a(87226);function f(){let e=(0,s.useParams)(),t=((null==e?void 0:e.address)||"").toLowerCase(),{address:f}=(0,r.m)(),{writeContract:b,isPending:h}=(0,n.S)(),v=(0,o.t)(),[g,p]=(0,i.useState)(1),[N,w]=(0,i.useState)(null),[E,j]=(0,i.useState)(null),[y,S]=(0,i.useState)(()=>Math.floor(Date.now()/1e3)),{data:M}=(0,c.u)({address:t,abi:x.EJ,functionName:"totalSupply"}),{data:P}=(0,c.u)({address:t,abi:x.EJ,functionName:"maxSupply"}),{data:A}=(0,c.u)({address:t,abi:x.EJ,functionName:"name"}),{data:I}=(0,c.u)({address:t,abi:x.EJ,functionName:"symbol"}),{data:C}=(0,c.u)({address:t,abi:x.EJ,functionName:"saleConfig"}),{data:k}=(0,c.u)({address:t,abi:x.EJ,functionName:"merkleRoot"}),{data:T}=(0,c.u)({address:t,abi:x.EJ,functionName:"paused"}),{data:_}=(0,c.u)(f?{address:t,abi:x.EJ,functionName:"mintedPerWallet",args:[f]}:{}),{data:B}=(0,c.u)({address:t,abi:x.EJ,functionName:"baseURI"}),[J,W]=(0,i.useState)(null),[R,F]=(0,i.useState)(null),[L,U]=(0,i.useState)(!1),[X,D]=(0,i.useState)(""),[G,H]=(0,i.useState)(""),[z,O]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=setInterval(()=>S(Math.floor(Date.now()/1e3)),1e3);return()=>clearInterval(e)},[]);let Q=(null==C?void 0:C.publicPriceWei)?BigInt(C.publicPriceWei):0n,Y=(null==C?void 0:C.allowlistPriceWei)?BigInt(C.allowlistPriceWei):0n,Z=(null==C?void 0:C.publicStart)?Number(C.publicStart):0,q=(null==C?void 0:C.publicEnd)?Number(C.publicEnd):0,K=(null==C?void 0:C.maxPerTx)?Number(C.maxPerTx):0,$=(null==C?void 0:C.maxPerWallet)?Number(C.maxPerWallet):0,V=(null==C?void 0:C.allowlistStart)?Number(C.allowlistStart):0,ee=(null==C?void 0:C.allowlistEnd)?Number(C.allowlistEnd):0,et=(0,i.useMemo)(()=>!!C&&!T&&(!Z||!(y<Z))&&(!q||!(y>q)),[C,T,y,Z,q]),ea=(0,i.useMemo)(()=>!!C&&!!V&&!(y<V)&&(!ee||!(y>ee))&&"string"==typeof k&&/^0x[0-9a-fA-F]{64}$/.test(k)&&k!=="0x"+"0".repeat(64),[C,y,V,ee,k]),el=!!(R&&R.length>0),ei=ea&&el?"allowlist":et?"public":"none",es="allowlist"===ei?Y:"public"===ei?Q:0n,er=es*BigInt(g||0),en=void 0!==C,eo=f&&_?Number(_):0,ec=Math.max(1,Math.min(K||Number.MAX_SAFE_INTEGER,($?Math.max(0,$-eo):Number.MAX_SAFE_INTEGER)||Number.MAX_SAFE_INTEGER,(P?Number(P):0)-(M?Number(M):0)||0)),ed=e=>"".concat(Math.floor(e/3600),"h ").concat(Math.floor(e%3600/60),"m ").concat(Math.max(0,e%60),"s");(0,i.useEffect)(()=>{(async()=>{try{if(U(ea),!ea){W(null),F(null);return}let{UserDatabase:e}=await Promise.all([a.e(4729),a.e(2719),a.e(9691)]).then(a.bind(a,59691)),l=await e.findCollectionByContractAddress(t);if(!l||!l.currentAllowlistId){W(null),F(null);return}let i=await e.getAllowlistAddresses(l.id,l.currentAllowlistId);if(W(i),f&&i&&i.length>0){let{computeProofForAddress:e}=await a.e(8829).then(a.bind(a,28829)),t=e(i,f);F(t)}else F(null)}catch(e){W(null),F(null)}})()},[t,f,ea]);let eu=(0,i.useMemo)(()=>C?Z&&y<Z?"Public starts in ".concat(ed(Z-y)):q&&y<q?"Public ends in ".concat(ed(q-y)):"":"",[C,y,Z,q]),em=(0,i.useMemo)(()=>C&&V?y<V?"Allowlist starts in ".concat(ed(V-y)):ee&&y<ee?"Allowlist ends in ".concat(ed(ee-y)):"":"",[C,y,V,ee]);(0,i.useEffect)(()=>{(async()=>{try{let{UserDatabase:e}=await Promise.all([a.e(4729),a.e(2719),a.e(9691)]).then(a.bind(a,59691)),l=await e.findCollectionByContractAddress(t);l&&(D(l.headerImageUrl||""),H(l.thumbnailUrl||""))}catch(e){}})()},[t]),(0,i.useEffect)(()=>{(async()=>{try{if(!v)return;let e=Number(M||0);if(!e){O([]);return}let a=Math.max(0,e-8),l=Array.from({length:e-a},(e,t)=>a+t),i=[];for(let e of l)try{let a=await v.readContract({address:t,abi:x.EJ,functionName:"tokenURI",args:[BigInt(e)]}),l="";try{let e=await fetch(String(a));l=(await e.json()).image||""}catch(e){l=String(a)}i.push({id:e,image:l})}catch(t){i.push({id:e,image:B?String(B)+e:""})}O(i.reverse())}catch(e){}})()},[t,v,M,B]);let ex=async()=>{w(null),j(null);try{let e;if("none"===ei)throw Error("Sale not active");if(g<=0)throw Error("Quantity must be > 0");if(K&&g>K)throw Error("Max per tx is ".concat(K));if(g>ec)throw Error("Quantity exceeds available limit");if("allowlist"===ei){if(!el)throw Error("Address not on allowlist");e=await b({address:t,abi:x.EJ,functionName:"mintAllowlist",args:[g,R||[]],value:er})}else if("public"===ei)e=await b({address:t,abi:x.EJ,functionName:"mintPublic",args:[g],value:er});else throw Error("No active mint window");j(e)}catch(e){w((null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||"Mint failed")}};return(0,l.jsxs)("div",{className:"max-w-6xl mx-auto py-8 px-4 space-y-8",children:[X&&(0,l.jsx)("img",{src:X,alt:"Header",className:"w-full h-48 object-cover rounded-2xl border border-[var(--stroke-soft)]"}),(0,l.jsxs)("div",{className:"flex items-start justify-between gap-8",children:[(0,l.jsx)("div",{className:"flex-1 min-w-0 space-y-2",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[G&&(0,l.jsx)("img",{src:G,alt:"Thumbnail",className:"w-12 h-12 rounded-xl border border-[var(--stroke-soft)] object-cover"}),(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold truncate",children:String(A||"Collection")}),(0,l.jsx)("div",{className:"text-[var(--fg-muted)]",children:String(I||"")})]})]})}),(0,l.jsx)("div",{className:"w-full sm:w-[360px]",children:(0,l.jsxs)(u.Z,{className:"p-6 space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,l.jsx)("div",{className:"font-semibold",children:"Mint"}),(0,l.jsxs)("div",{className:"text-sm text-[var(--fg-muted)]",children:[String(null!=M?M:0)," / ",String(null!=P?P:0)," minted"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[!!T&&(0,l.jsx)("span",{className:"text-xs rounded-full border border-[var(--stroke-soft)] px-2 py-0.5",children:"Paused"}),ea&&(0,l.jsx)("span",{className:"text-xs rounded-full border border-green-500 text-green-400 px-2 py-0.5",children:"Allowlist Active"}),et&&(0,l.jsx)("span",{className:"text-xs rounded-full border border-[var(--stroke-soft)] px-2 py-0.5",children:"Public Active"}),!T&&!ea&&!et&&(0,l.jsx)("span",{className:"text-xs rounded-full border border-[var(--stroke-soft)] px-2 py-0.5",children:"Inactive"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"text-[var(--fg-muted)] text-sm",children:"Price"}),(0,l.jsx)("div",{className:"text-lg",children:en?"".concat((0,d.d)(es)," HYPE"):"…"})]}),(em||eu)&&(0,l.jsxs)("div",{className:"space-y-1",children:[em&&(0,l.jsxs)("div",{className:"text-sm text-[var(--fg-muted)]",children:[em," ",el?"(eligible)":"(not on allowlist)"]}),eu&&(0,l.jsx)("div",{className:"text-sm text-[var(--fg-muted)]",children:eu})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("input",{type:"range",min:1,max:ec,value:Math.min(g,ec),onChange:e=>p(Math.max(1,Math.min(Number(e.target.value),ec))),className:"w-full"}),(0,l.jsx)("input",{type:"number",min:1,max:ec||void 0,value:Math.min(g,ec),onChange:e=>p(Math.max(1,Math.min(Number(e.target.value),ec))),className:"w-28 rounded-xl bg-[var(--bg-elevated)] border border-[var(--stroke-soft)] px-3 py-2"})]}),(0,l.jsxs)("div",{className:"text-xs text-[var(--fg-muted)]",children:["Max you can mint now: ",ec===Number.MAX_SAFE_INTEGER?"∞":ec]}),(0,l.jsxs)("div",{className:"text-sm text-[var(--fg-muted)]",children:["Total: ",en?"".concat((0,d.d)(er)," HYPE"):"…"]})]}),N&&(0,l.jsx)("div",{className:"text-red-400 text-sm",children:N}),E&&(0,l.jsxs)("div",{className:"text-sm",children:["Tx: ",(0,l.jsx)("a",{className:"underline",href:"https://hyperevmscan.io/tx/".concat(E),target:"_blank",rel:"noreferrer",children:E})]}),(0,l.jsx)(m.Button,{disabled:h||"none"===ei,onClick:ex,variant:"outline",className:"rounded-xl border border-[var(--stroke-soft)] px-3 py-1.5 hover:bg-[var(--hl-azure)]/10 w-full",children:h?"Minting…":"allowlist"===ei?"Mint (Allowlist)":"public"===ei?"Mint (Public)":"Sale not active"})]})})]}),z.length>0&&(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"text-lg font-semibold",children:"Minted NFTs"}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6",children:z.map(e=>(0,l.jsxs)(u.Z,{className:"overflow-hidden",children:[(0,l.jsx)("img",{src:e.image,alt:"#".concat(e.id),className:"w-full h-48 object-cover bg-[var(--bg-elevated)]"}),(0,l.jsx)("div",{className:"p-3 text-sm",children:(0,l.jsxs)("div",{className:"font-medium",children:[String(A||"Token")," #",e.id]})})]},e.id))})]})]})}},87226:function(e,t,a){"use strict";a.d(t,{EJ:function(){return o},F1:function(){return r},Jz:function(){return m},Kj:function(){return d},_B:function(){return n},qX:function(){return u},s4:function(){return c}});var l=a(43193),i=a(84707),s=a(46991);let r="0x5358ee860134900E66Ea63A39C3c57FD362aE17a",n=i.Mt,o=s.Mt,c=n,d=Number("999");function u(e){let t=Math.floor(Date.now()/1e3);return{publicPriceWei:(0,l.f)(e.publicPrice),allowlistPriceWei:(0,l.f)(e.allowlistPrice||e.publicPrice),publicStart:BigInt(e.publicStart?Math.floor(e.publicStart.getTime()/1e3):t),publicEnd:BigInt(e.publicEnd?Math.floor(e.publicEnd.getTime()/1e3):0),allowlistStart:BigInt(e.allowlistStart?Math.floor(e.allowlistStart.getTime()/1e3):t),allowlistEnd:BigInt(e.allowlistEnd?Math.floor(e.allowlistEnd.getTime()/1e3):0),walletLimit:e.walletLimit,txLimit:e.txLimit}}function m(e){return[e.name,e.symbol,BigInt(e.maxSupply),e.baseURI,e.payout,e.royaltyReceiver,BigInt(e.royaltyBps),{publicPriceWei:e.saleConfig.publicPriceWei,allowlistPriceWei:e.saleConfig.allowlistPriceWei,publicStart:e.saleConfig.publicStart,publicEnd:e.saleConfig.publicEnd,allowlistStart:e.saleConfig.allowlistStart,allowlistEnd:e.saleConfig.allowlistEnd,maxPerWallet:e.saleConfig.walletLimit,maxPerTx:e.saleConfig.txLimit},e.merkleRoot,"0x0000000000000000000000000000000000000000000000000000000000000000"]}},61250:function(e,t,a){"use strict";var l=a(27797);a.o(l,"useParams")&&a.d(t,{useParams:function(){return l.useParams}})}},function(e){e.O(0,[487,799,959,6833,4170,6842,1744],function(){return e(e.s=93827)}),_N_E=e.O()}]);