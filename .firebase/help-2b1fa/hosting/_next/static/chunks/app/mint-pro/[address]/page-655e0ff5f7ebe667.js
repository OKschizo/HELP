(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2625,9691,703],{52773:function(e,t,a){Promise.resolve().then(a.bind(a,79304))},79304:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(59533),r=a(31229),l=a(61250),i=a(3810),n=a(24351),d=a(42981),o=a(31378),c=a(66471),m=a(38985),u=a(28291),x=a(87226),v=a(59691),h=a(13841),p=a(27124),f=a(703),b=a(44492);function g(){var e,t,g,N,w,j,y,E,S,k,A;let C=(0,l.useParams)(),U=((null==C?void 0:C.address)||"").toLowerCase(),{address:_}=(0,i.m)(),{writeContract:I,isPending:P}=(0,n.S)(),T=(0,d.t)(),[M,B]=(0,r.useState)(1),[D,L]=(0,r.useState)(null),[J,R]=(0,r.useState)(null),[W,F]=(0,r.useState)(()=>Math.floor(Date.now()/1e3)),{data:K}=(0,o.u)({address:U,abi:x.EJ,functionName:"totalSupply"}),{data:H}=(0,o.u)({address:U,abi:x.EJ,functionName:"maxSupply"}),{data:X}=(0,o.u)({address:U,abi:x.EJ,functionName:"name"}),{data:O}=(0,o.u)({address:U,abi:x.EJ,functionName:"symbol"}),{data:Z}=(0,o.u)({address:U,abi:x.EJ,functionName:"saleConfig"}),{data:z}=(0,o.u)({address:U,abi:x.EJ,functionName:"merkleRoot"}),{data:G}=(0,o.u)({address:U,abi:x.EJ,functionName:"paused"}),{data:q}=(0,o.u)(_?{address:U,abi:x.EJ,functionName:"mintedPerWallet",args:[_]}:{}),{data:Y}=(0,o.u)({address:U,abi:x.EJ,functionName:"baseURI"}),{data:Q}=(0,o.u)({chainId:x.Kj,address:U,abi:x.EJ,functionName:"owner"}),V=!!(Q&&_&&String(Q).toLowerCase()===_.toLowerCase()),$=(e,t)=>Z?void 0!==Z[e]?BigInt(Z[e]):void 0!==Z[t]?BigInt(Z[t]):0n:0n,ee=(e,t)=>Z?void 0!==Z[e]?Number(Z[e]):void 0!==Z[t]?Number(Z[t]):0:0,et=$("publicPriceWei",0),ea=$("allowlistPriceWei",1),es=ee("publicStart",2),er=ee("publicEnd",3),el=ee("allowlistStart",4),ei=ee("allowlistEnd",5),en=ee("maxPerWallet",6),ed=ee("maxPerTx",7);(0,r.useEffect)(()=>{let e=setInterval(()=>F(Math.floor(Date.now()/1e3)),1e3);return()=>clearInterval(e)},[]);let eo=!!G,ec=(0,r.useMemo)(()=>!!Z&&!eo&&(!es||!(W<es))&&(!er||!(W>er)),[Z,eo,W,es,er]),em=(0,r.useMemo)(()=>!!Z&&!!el&&!(W<el)&&(!ei||!(W>ei))&&"string"==typeof z&&/^0x[0-9a-fA-F]{64}$/.test(z)&&z!=="0x"+"0".repeat(64),[Z,W,el,ei,z]),[eu,ex]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{if(!em){ex(null);return}let{UserDatabase:e}=await Promise.resolve().then(a.bind(a,59691)),t=await e.findCollectionByContractAddress(U);if(!t||!t.currentAllowlistId){ex(null);return}let s=await e.getAllowlistAddresses(t.id,t.currentAllowlistId);if(_&&(null==s?void 0:s.length)){let{computeProofForAddress:e}=await a.e(8829).then(a.bind(a,28829));ex(e(s,_))}else ex(null)}catch(e){ex(null)}})()},[U,_,em]);let ev=!!(eu&&eu.length>0),eh=em&&ev?"allowlist":ec?"public":"none",ep="allowlist"===eh?ea:"public"===eh?et:0n,ef=ec?ep:el&&W<el?ea:et,eb=ep*BigInt(M||0),eg=_&&q?Number(q):0,eN=en?Math.max(0,en-eg):Number.MAX_SAFE_INTEGER,ew=(H?Number(H):0)-(K?Number(K):0),ej=Math.max(1,Math.min(ed||Number.MAX_SAFE_INTEGER,eN||Number.MAX_SAFE_INTEGER,ew||0)),ey=(0,r.useMemo)(()=>{if(!el||!em)return!1;let e=ew>0;return(!en||eg<en)&&e},[el,em,en,eg,ew]),[eE,eS]=(0,r.useState)([]),[ek,eA]=(0,r.useState)(!1),eC=eE.length<Number(K||0),[eU,e_]=(0,r.useState)(""),[eI,eP]=(0,r.useState)(""),[eT,eM]=(0,r.useState)(""),[eB,eD]=(0,r.useState)(""),[eL,eJ]=(0,r.useState)(""),[eR,eW]=(0,r.useState)(""),[eF,eK]=(0,r.useState)([]);(0,r.useEffect)(()=>{eS([])},[U]);let eH=e=>{let t=(b.env.NEXT_PUBLIC_IPFS_GATEWAY||"https://ipfs.io/ipfs/").replace(/\/$/,"/");return e?e.startsWith("ipfs://")?t+e.slice(7):e.startsWith("ipfs/")?t+e.slice(5):e:e},eX=async()=>{try{if(!T)return;let e=Number(K||0);if(!e||ek)return;let t=eE.length,a=Math.max(0,e-t);if(0===a)return;eA(!0);let s=e-1-t,r=Math.max(0,s-Math.min(24,a)+1),l=[],i=new Set(eE.map(e=>e.id));for(let e=s;e>=r;e--)try{let t,a;let s=await T.readContract({address:U,abi:x.EJ,functionName:"tokenURI",args:[BigInt(e)]}),r=eH(String(s)),n="";try{let e=await fetch(r),s=await e.json(),l=String(s.image||"");n=l?eH(l):"",s&&"object"==typeof s&&(t="string"==typeof s.name?s.name:void 0,Array.isArray(s.attributes)&&(a=s.attributes))}catch(e){n=r}i.has(e)||l.push({id:e,image:n,name:t,attrs:a})}catch(s){let t=String(Y||""),a=t?(t.startsWith("ipfs://")?eH(t):t)+e:"";i.has(e)||l.push({id:e,image:a})}eS(e=>[...e,...l])}catch(e){}finally{eA(!1)}};(0,r.useEffect)(()=>{0===eE.length&&eX()},[K,T]),(0,r.useEffect)(()=>{(async()=>{try{let e=await v.UserDatabase.findCollectionByContractAddress(U);e&&(e_(e.headerImageUrl||""),eP(e.thumbnailUrl||""),eM(e.websiteUrl||""),eD(e.twitterUrl||""),eJ(e.discordUrl||""),eW(e.openseaUrl||""))}catch(e){}})()},[U]);let[eO,eZ]=(0,r.useState)(!1),[ez,eG]=(0,r.useState)(!1),[eq,eY]=(0,r.useState)(!1),[eQ,eV]=(0,r.useState)(!1),e$=async(e,t)=>{try{let a=(0,p.v0)(f.Z);a.currentUser||await (0,p.XB)(a);let s=(0,h.cF)(f.Z),r="mint-pages/".concat(U,"/").concat(t,"-").concat(Date.now(),"-").concat(e.name),l=(0,h.iH)(s,r);await (0,h.KV)(l,e);let i=await (0,h.Jt)(l);"header"===t&&e_(i),"thumb"===t&&eP(i)}catch(e){console.error("Upload error:",e),alert("Failed to upload image. Please try again.")}},e0=async()=>{try{eG(!0),await v.UserDatabase.updateCollectionByContractAddress(U,{headerImageUrl:eU,thumbnailUrl:eI,websiteUrl:eT,twitterUrl:eB,discordUrl:eL,openseaUrl:eR}),eZ(!1)}catch(e){console.error(e)}finally{eG(!1)}},e1=async(e,t)=>{try{var a,s;e.preventDefault(),e.stopPropagation(),"header"===t&&eY(!1),"thumb"===t&&eV(!1);let r=null===(s=e.dataTransfer)||void 0===s?void 0:null===(a=s.files)||void 0===a?void 0:a[0];r&&await e$(r,t)}catch(e){}},e2=async()=>{L(null),R(null);try{let e;if("none"===eh)throw Error("Sale not active");if(M<=0)throw Error("Quantity must be > 0");if(ed&&M>ed)throw Error("Max per tx is ".concat(ed));if(M>ej)throw Error("Quantity exceeds available limit");if("allowlist"===eh){if(!ev)throw Error("Address not on allowlist");e=await I({address:U,abi:x.EJ,functionName:"mintAllowlist",args:[M,null!=eu?eu:[]],value:eb})}else e=await I({address:U,abi:x.EJ,functionName:"mintPublic",args:[M],value:eb});R(e)}catch(e){L((null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||"Mint failed")}};return(0,r.useEffect)(()=>{(async()=>{try{if(!T||!U)return;let a=await T.getBlockNumber(),s="0x"+"0".repeat(40),r=await T.getLogs({address:U,event:{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},fromBlock:a>200000n?a-200000n:0n,toBlock:a,args:{from:s}}),l=[];for(let a of r.slice(-25).reverse()){var e,t;let s;let r=null===(e=a.args)||void 0===e?void 0:e.tokenId,i=null===(t=a.args)||void 0===t?void 0:t.to;try{let e=await T.getBlock({blockHash:a.blockHash});s=Number(e.timestamp)}catch(e){}l.push({tx:a.transactionHash,to:i,tokenId:r,time:s})}eK(l)}catch(e){}})()},[U,T,K]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/75 -z-40 pointer-events-none"}),(0,s.jsxs)("div",{className:"max-w-screen-2xl mx-auto -mt-8 pt-0 pb-10 px-6 space-y-8",children:[(0,s.jsxs)("div",{className:"relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] w-screen",children:[eU?(0,s.jsx)("img",{src:eU,alt:"Header",className:"w-full h-64 md:h-80 lg:h-[28rem] object-cover"}):(0,s.jsx)("div",{className:"w-full h-64 md:h-80 lg:h-[28rem] bg-gradient-to-r from-purple-600/30 to-cyan-600/30"}),(0,s.jsx)("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-40 bg-gradient-to-b from-transparent via-[var(--bg)]/60 to-[var(--bg)]"}),(0,s.jsx)("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-40 bg-gradient-to-t from-transparent via-[var(--bg)]/60 to-[var(--bg)]"}),(0,s.jsx)("div",{className:"absolute -bottom-6 left-6 w-[520px]",children:(0,s.jsxs)(m.Z,{className:"p-5 bg-black/85 backdrop-blur-sm shadow-[0_12px_40px_rgba(0,0,0,0.45)]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[eI?(0,s.jsx)("img",{src:eI,alt:"Avatar",className:"w-14 h-14 rounded-full object-cover border border-[var(--stroke-soft)]"}):(0,s.jsx)("div",{className:"w-14 h-14 rounded-full bg-[var(--bg-elevated)] border border-[var(--stroke-soft)]"}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsxs)("div",{className:"text-2xl font-semibold flex items-center gap-2 truncate",children:[(0,s.jsx)("span",{className:"truncate",children:String(X||"Collection")}),(0,s.jsx)("span",{className:"text-[10px] uppercase tracking-wide rounded-full border border-[var(--stroke-soft)] px-2 py-0.5 text-[var(--fg-muted)]",children:"Verified"})]}),(0,s.jsxs)("div",{className:"text-sm text-[var(--fg-muted)]",children:["By ",Q?(0,s.jsxs)("a",{className:"underline",href:"https://hyperevmscan.io/address/".concat(String(Q)),target:"_blank",rel:"noreferrer",children:[String(Q).slice(0,6),"…",String(Q).slice(-4)]}):"—"]})]})]}),(eT||eB||eL||eR)&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mt-4",children:[eT&&(0,s.jsx)("a",{className:"rounded-full border border-[var(--stroke-soft)] px-3 py-1 text-sm hover:bg-[var(--bg-elevated)]",href:eT,target:"_blank",rel:"noreferrer",children:"Website"}),eB&&(0,s.jsx)("a",{className:"rounded-full border border-[var(--stroke-soft)] px-3 py-1 text-sm hover:bg-[var(--bg-elevated)]",href:eB,target:"_blank",rel:"noreferrer","aria-label":"X / Twitter",children:"X"}),eL&&(0,s.jsx)("a",{className:"rounded-full border border-[var(--stroke-soft)] px-3 py-1 text-sm hover:bg-[var(--bg-elevated)]",href:eL,target:"_blank",rel:"noreferrer",children:"Discord"}),eR&&(0,s.jsx)("a",{className:"rounded-full border border-[var(--stroke-soft)] px-2 py-1 hover:bg-[var(--bg-elevated)]",href:eR,target:"_blank",rel:"noreferrer","aria-label":"OpenSea",children:(0,s.jsx)("img",{src:"/OPENSEALogomark-Transparent%20White.png",alt:"OpenSea",className:"w-4 h-4"})})]})]})}),V&&(0,s.jsx)("div",{className:"absolute -bottom-6 right-6",children:(0,s.jsx)(u.Button,{onClick:()=>eZ(e=>!e),variant:"secondary",children:eO?"Close editor":"Edit page"})})]}),(0,s.jsx)("div",{className:"relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] w-screen pr-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-4 text-sm",children:[(0,s.jsx)("div",{className:"rounded-full border border-[var(--stroke-soft)] px-3 py-1 text-[var(--fg-muted)]",children:(()=>{let e=e=>{let t=Math.max(0,e);return"".concat(String(Math.floor(t/3600)).padStart(2,"0"),":").concat(String(Math.floor(t%3600/60)).padStart(2,"0"),":").concat(String(t%60).padStart(2,"0"))};return el&&W<el?"WL starts in ".concat(e(el-W)):ei&&W<=ei&&el&&W>=el?"WL ends in ".concat(e(ei-W)):es&&W<es?"Public starts in ".concat(e(es-W)):er&&W<=er?"Public ends in ".concat(e(er-W)):"Sale ended"})()}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-40 h-2 rounded-full bg-[var(--bg-elevated)] border border-[var(--stroke-soft)] overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-[var(--hl-azure)]",style:{width:"".concat(Math.min(100,Math.max(0,Number(K||0)/Math.max(1,Number(H||1))*100)).toFixed(1),"%")}})}),(0,s.jsxs)("div",{className:"text-[var(--fg-muted)]",children:[String(null!=K?K:0)," / ",String(null!=H?H:0)]})]})]})}),(0,s.jsx)("div",{className:"relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] w-screen",children:(0,s.jsx)("div",{className:"px-[20px]",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 pt-2",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(eU||eE.length>0)&&(0,s.jsx)(m.Z,{className:"p-4 mb-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-10 gap-4 items-start",children:[(0,s.jsx)("div",{className:"lg:col-span-5",children:(0,s.jsx)("img",{src:(null===(e=eE[0])||void 0===e?void 0:e.image)||eU||eI,alt:"Preview",className:"w-full h-80 lg:h-[28rem] object-cover rounded-xl border border-[var(--stroke-soft)] bg-[var(--bg-elevated)]"})}),eE.length>1&&(0,s.jsx)("div",{className:"lg:col-span-1 space-y-3 max-h-[28rem] overflow-auto pr-1",children:eE.slice(0,10).map(e=>(0,s.jsx)("button",{className:"block w-full text-left",onClick:()=>{eS(t=>{let a=t.findIndex(t=>t.id===e.id);if(a<=0)return t;let s=[...t],[r]=s.splice(a,1);return s.unshift(r),s})},children:(0,s.jsx)("img",{src:e.image,alt:"#".concat(e.id),className:"w-full h-20 object-cover rounded-lg border border-[var(--stroke-soft)] hover:opacity-90"})},e.id))}),(0,s.jsx)("div",{className:"lg:col-span-4",children:(0,s.jsxs)("div",{className:"rounded-xl border border-[var(--stroke-soft)] bg-black/80 p-4 max-h-[28rem] overflow-auto",children:[(0,s.jsx)("div",{className:"text-sm text-[var(--fg-muted)] mb-2",children:"Token"}),(0,s.jsx)("div",{className:"text-lg font-semibold mb-1 break-words",children:(null===(t=eE[0])||void 0===t?void 0:t.name)||"".concat(String(X||"Token")," #").concat(null!==(S=null===(g=eE[0])||void 0===g?void 0:g.id)&&void 0!==S?S:"")}),(0,s.jsxs)("div",{className:"text-xs text-[var(--fg-muted)] mb-4",children:["#",null!==(k=null===(N=eE[0])||void 0===N?void 0:N.id)&&void 0!==k?k:"—"," ",U?(0,s.jsx)("a",{className:"underline ml-2",href:"https://hyperevmscan.io/token/".concat(U,"?a=").concat(null!==(A=null===(w=eE[0])||void 0===w?void 0:w.id)&&void 0!==A?A:""),target:"_blank",rel:"noreferrer",children:"View on explorer"}):null]}),(0,s.jsx)("div",{className:"text-sm font-medium mt-1 mb-2",children:"Attributes"}),Array.isArray(null===(j=eE[0])||void 0===j?void 0:j.attrs)&&((null===(E=eE[0])||void 0===E?void 0:null===(y=E.attrs)||void 0===y?void 0:y.length)||0)>0?(0,s.jsx)("div",{className:"grid grid-cols-1 gap-2",children:eE[0].attrs.map((e,t)=>{var a,r,l;return(0,s.jsxs)("div",{className:"rounded-lg bg-[var(--bg)]/40 border border-[var(--stroke-soft)] px-3 py-2",children:[(0,s.jsx)("div",{className:"text-xs text-[var(--fg-muted)] break-words mb-0.5",children:String(null!==(a=null==e?void 0:e.trait_type)&&void 0!==a?a:"Trait")}),(0,s.jsx)("div",{className:"text-sm font-medium break-words",children:String(null!==(r=null==e?void 0:e.value)&&void 0!==r?r:"—")})]},"".concat(null!==(l=null==e?void 0:e.trait_type)&&void 0!==l?l:"trait","-").concat(t))})}):(0,s.jsx)("div",{className:"text-sm text-[var(--fg-muted)]",children:"No attributes found."})]})})]})}),(0,s.jsxs)(m.Z,{className:"p-5 mb-6",children:[(0,s.jsx)("div",{className:"text-lg font-semibold mb-4",children:"Mint schedule"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"mt-1 w-2 h-2 rounded-full ".concat(ec?"bg-[var(--hl-azure)] shadow":"bg-[var(--fg-muted)]")}),(0,s.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-medium flex items-center gap-2",children:["Public ",ec&&(0,s.jsx)("span",{className:"text-[10px] rounded-full border border-[var(--stroke-soft)] px-2 py-0.5",children:"Active"})]}),(0,s.jsxs)("div",{className:"text-xs text-[var(--fg-muted)]",children:[es?new Date(1e3*es).toUTCString():"—"," ",er?"→ "+new Date(1e3*er).toUTCString():""]})]}),(0,s.jsxs)("div",{className:"text-right text-sm",children:[(0,s.jsxs)("div",{children:[(0,c.d)(et)," HYPE"]}),(0,s.jsxs)("div",{className:"text-xs text-[var(--fg-muted)]",children:["Limit ",en||"∞"," / wallet"]})]})]})]}),el?(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"mt-1 w-2 h-2 rounded-full ".concat(em?"bg-[var(--hl-azure)] shadow":"bg-[var(--fg-muted)]")}),(0,s.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-medium flex items-center gap-2",children:["Allowlist ",em?ev||ey?(0,s.jsx)("span",{className:"text-[10px] rounded-full border border-[var(--stroke-soft)] px-2 py-0.5",children:"Eligible"}):(0,s.jsx)("span",{className:"text-[10px] rounded-full border border-[var(--stroke-soft)] px-2 py-0.5",children:"Not eligible"}):(0,s.jsx)("span",{className:"text-[10px] rounded-full border border-[var(--stroke-soft)] px-2 py-0.5",children:"Scheduled"})]}),(0,s.jsxs)("div",{className:"text-xs text-[var(--fg-muted)]",children:[new Date(1e3*el).toUTCString()," ",ei?"→ "+new Date(1e3*ei).toUTCString():""]})]}),(0,s.jsxs)("div",{className:"text-right text-sm",children:[(0,s.jsxs)("div",{children:[(0,c.d)(ea)," HYPE"]}),(0,s.jsxs)("div",{className:"text-xs text-[var(--fg-muted)]",children:["Limit ",en||"∞"," / wallet"]})]})]})]}):null]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[eF.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-lg font-semibold mb-2",children:"Live mints"}),(0,s.jsx)("div",{className:"overflow-hidden rounded-xl border border-[var(--stroke-soft)]",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-[var(--bg-elevated)] text-[var(--fg-muted)]",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Token"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"To"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Time"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Tx"})]})}),(0,s.jsx)("tbody",{children:eF.map(e=>(0,s.jsxs)("tr",{className:"border-t border-[var(--stroke-soft)]",children:[(0,s.jsxs)("td",{className:"px-3 py-2",children:["#",String(e.tokenId)]}),(0,s.jsxs)("td",{className:"px-3 py-2 font-mono",children:[e.to.slice(0,6),"…",e.to.slice(-4)]}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.time?new Date(1e3*e.time).toLocaleTimeString():"—"}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("a",{className:"underline",href:"https://hyperevmscan.io/tx/".concat(e.tx),target:"_blank",rel:"noreferrer",children:"View"})})]},e.tx))})]})})]}),eE.length>0&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-lg font-semibold",children:"Minted NFTs"}),(0,s.jsx)("div",{className:"rounded-xl border border-[var(--stroke-soft)]",children:(0,s.jsxs)("div",{className:"max-h-[70vh] overflow-auto p-4",onScroll:e=>{let t=e.currentTarget;t.scrollHeight-t.scrollTop-t.clientHeight<200&&!ek&&eE.length<Number(K||0)&&eX()},children:[(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:eE.map(e=>(0,s.jsxs)(m.Z,{className:"overflow-hidden group",children:[(0,s.jsx)("img",{src:e.image,alt:"#".concat(e.id),loading:"lazy",className:"w-full h-48 object-cover bg-[var(--bg-elevated)]"}),(0,s.jsxs)("div",{className:"p-3 text-sm flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"font-medium truncate",children:[String(X||"Token")," #",e.id]}),(0,s.jsx)("a",{className:"opacity-0 group-hover:opacity-100 transition-opacity underline text-xs",href:"https://hyperevmscan.io/token/".concat(U,"?a=").concat(e.id),target:"_blank",rel:"noreferrer",children:"View"})]})]},e.id))}),eC&&(0,s.jsx)("div",{className:"flex justify-center py-4",children:(0,s.jsx)(u.Button,{onClick:eX,disabled:ek,children:ek?"Loading…":"Load more"})})]})})]})]})]}),(0,s.jsx)("div",{className:"md:col-span-1 md:sticky md:top-6 self-start",children:(0,s.jsxs)(m.Z,{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Mint"}),(0,s.jsxs)("div",{className:"text-sm text-[var(--fg-muted)]",children:[String(null!=K?K:0)," / ",String(null!=H?H:0)]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[!eo&&(el?(0,s.jsx)("span",{className:"rounded-full border border-[var(--stroke-soft)] px-2 py-0.5",children:"Allowlist"}):(0,s.jsx)("span",{className:"rounded-full border border-[var(--stroke-soft)] px-2 py-0.5",children:"Public"})),eo&&(0,s.jsx)("span",{className:"rounded-full border border-[var(--stroke-soft)] px-2 py-0.5",children:"Paused"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"text-[var(--fg-muted)] text-sm",children:"Price"}),(0,s.jsx)("div",{className:"text-lg",children:Z?"".concat((0,c.d)(ef)," HYPE"):"…"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{type:"range",min:1,max:ej,value:Math.min(M,ej),onChange:e=>B(Math.max(1,Math.min(Number(e.target.value),ej))),className:"w-full"}),(0,s.jsx)("input",{type:"number",min:1,max:ej||void 0,value:Math.min(M,ej),onChange:e=>B(Math.max(1,Math.min(Number(e.target.value),ej))),className:"w-24 rounded-xl bg-[var(--bg-elevated)] border border-[var(--stroke-soft)] px-3 py-2"})]}),(0,s.jsxs)("div",{className:"text-xs text-[var(--fg-muted)]",children:["Max you can mint now: ",ej===Number.MAX_SAFE_INTEGER?"∞":ej]}),(0,s.jsxs)("div",{className:"text-sm text-[var(--fg-muted)]",children:["Total: ",Z?"".concat((0,c.d)(ef*BigInt(M||0))," HYPE"):"…"]}),em&&!ev&&!ec&&(0,s.jsx)("div",{className:"text-xs text-red-400",children:"Not on allowlist for the current phase. Connect an eligible wallet."})]}),D&&(0,s.jsx)("div",{className:"text-red-400 text-sm",children:D}),J&&(0,s.jsxs)("div",{className:"text-sm",children:["Tx: ",(0,s.jsx)("a",{className:"underline",href:"https://hyperevmscan.io/tx/".concat(J),target:"_blank",rel:"noreferrer",children:J})]}),(0,s.jsx)(u.Button,{disabled:P||"none"===eh,onClick:e2,className:"w-full",children:P?"Minting…":"allowlist"===eh?"Mint (Allowlist)":"public"===eh?"Mint (Public)":"Sale not active"})]})})]})})}),V&&eO&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70",onClick:()=>eZ(!1)}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-start justify-center pt-20 px-4",children:(0,s.jsx)("div",{className:"w-full max-w-3xl",children:(0,s.jsxs)(m.Z,{className:"p-5 bg-black/70 border border-[var(--stroke-soft)] shadow-[0_12px_40px_rgba(0,0,0,0.45)]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"text-lg font-semibold",children:"Appearance & Links"}),(0,s.jsx)(u.Button,{variant:"secondary",onClick:()=>eZ(!1),children:"Close"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-sm",children:"Header image"}),(0,s.jsx)("div",{className:"relative rounded-xl border ".concat(eq?"border-[var(--hl-azure)]":"border-[var(--stroke-soft)]"," bg-[var(--bg-elevated)] overflow-hidden grid place-items-center text-center"),style:{aspectRatio:"1 / 1"},onDragOver:e=>{e.preventDefault(),eq||eY(!0)},onDragLeave:()=>eY(!1),onDrop:e=>e1(e,"header"),children:eU?(0,s.jsx)("img",{src:eU,alt:"Header preview",className:"absolute inset-0 w-full h-full object-contain p-2"}):(0,s.jsxs)("div",{className:"px-4 text-sm text-[var(--fg-muted)]",children:[(0,s.jsx)("div",{children:"Drag & drop header here"}),(0,s.jsx)("div",{className:"text-xs",children:"or click Upload"})]})}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsxs)("label",{className:"rounded-xl border border-[var(--stroke-soft)] px-3 py-2 text-sm cursor-pointer hover:bg-[var(--bg-elevated)]",children:[(0,s.jsx)("input",{className:"hidden",type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&e$(a,"header")}}),"Upload"]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-xs text-[var(--fg-muted)] mb-1",children:"Header image URL"}),(0,s.jsx)("input",{type:"url",placeholder:"https://",value:eU,onChange:e=>e_(e.target.value),className:"w-full rounded-xl bg-[var(--bg-elevated)] border border-[var(--stroke-soft)] px-3 py-2"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-sm",children:"Thumbnail image"}),(0,s.jsx)("div",{className:"relative rounded-xl border ".concat(eQ?"border-[var(--hl-azure)]":"border-[var(--stroke-soft)]"," bg-[var(--bg-elevated)] overflow-hidden grid place-items-center text-center"),style:{aspectRatio:"1 / 1"},onDragOver:e=>{e.preventDefault(),eQ||eV(!0)},onDragLeave:()=>eV(!1),onDrop:e=>e1(e,"thumb"),children:eI?(0,s.jsx)("img",{src:eI,alt:"Thumbnail preview",className:"absolute inset-0 w-full h-full object-contain p-2"}):(0,s.jsxs)("div",{className:"px-4 text-sm text-[var(--fg-muted)]",children:[(0,s.jsx)("div",{children:"Drag & drop thumbnail here"}),(0,s.jsx)("div",{className:"text-xs",children:"or click Upload"})]})}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsxs)("label",{className:"rounded-xl border border-[var(--stroke-soft)] px-3 py-2 text-sm cursor-pointer hover:bg-[var(--bg-elevated)]",children:[(0,s.jsx)("input",{className:"hidden",type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&e$(a,"thumb")}}),"Upload"]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-xs text-[var(--fg-muted)] mb-1",children:"Thumbnail image URL"}),(0,s.jsx)("input",{type:"url",placeholder:"https://",value:eI,onChange:e=>eP(e.target.value),className:"w-full rounded-xl bg-[var(--bg-elevated)] border border-[var(--stroke-soft)] px-3 py-2"})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-[var(--fg-muted)] mb-1",children:"Website URL"}),(0,s.jsx)("input",{type:"url",placeholder:"https://",value:eT,onChange:e=>eM(e.target.value),className:"w-full rounded-xl bg-[var(--bg-elevated)] border border-[var(--stroke-soft)] px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-[var(--fg-muted)] mb-1",children:"X / Twitter URL"}),(0,s.jsx)("input",{type:"url",placeholder:"https://",value:eB,onChange:e=>eD(e.target.value),className:"w-full rounded-xl bg-[var(--bg-elevated)] border border-[var(--stroke-soft)] px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-[var(--fg-muted)] mb-1",children:"Discord URL"}),(0,s.jsx)("input",{type:"url",placeholder:"https://",value:eL,onChange:e=>eJ(e.target.value),className:"w-full rounded-xl bg-[var(--bg-elevated)] border border-[var(--stroke-soft)] px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-[var(--fg-muted)] mb-1",children:"OpenSea collection URL"}),(0,s.jsx)("input",{type:"url",placeholder:"https://",value:eR,onChange:e=>eW(e.target.value),className:"w-full rounded-xl bg-[var(--bg-elevated)] border border-[var(--stroke-soft)] px-3 py-2"})]})]}),(0,s.jsx)("div",{className:"flex justify-end mt-5",children:(0,s.jsx)(u.Button,{onClick:e0,disabled:ez,children:ez?"Saving…":"Save changes"})}),(0,s.jsx)("div",{className:"text-xs text-[var(--fg-muted)] mt-2",children:"Only the on-chain owner can modify these settings."})]})})})]})]})]})}},87226:function(e,t,a){"use strict";a.d(t,{EJ:function(){return d},F1:function(){return i},Jz:function(){return u},Kj:function(){return c},_B:function(){return n},qX:function(){return m},s4:function(){return o}});var s=a(43193),r=a(84707),l=a(46991);let i="0x5358ee860134900E66Ea63A39C3c57FD362aE17a",n=r.Mt,d=l.Mt,o=n,c=Number("999");function m(e){let t=Math.floor(Date.now()/1e3);return{publicPriceWei:(0,s.f)(e.publicPrice),allowlistPriceWei:(0,s.f)(e.allowlistPrice||e.publicPrice),publicStart:BigInt(e.publicStart?Math.floor(e.publicStart.getTime()/1e3):t),publicEnd:BigInt(e.publicEnd?Math.floor(e.publicEnd.getTime()/1e3):0),allowlistStart:BigInt(e.allowlistStart?Math.floor(e.allowlistStart.getTime()/1e3):t),allowlistEnd:BigInt(e.allowlistEnd?Math.floor(e.allowlistEnd.getTime()/1e3):0),walletLimit:e.walletLimit,txLimit:e.txLimit}}function u(e){return[e.name,e.symbol,BigInt(e.maxSupply),e.baseURI,e.payout,e.royaltyReceiver,BigInt(e.royaltyBps),{publicPriceWei:e.saleConfig.publicPriceWei,allowlistPriceWei:e.saleConfig.allowlistPriceWei,publicStart:e.saleConfig.publicStart,publicEnd:e.saleConfig.publicEnd,allowlistStart:e.saleConfig.allowlistStart,allowlistEnd:e.saleConfig.allowlistEnd,maxPerWallet:e.saleConfig.walletLimit,maxPerTx:e.saleConfig.txLimit},e.merkleRoot,"0x0000000000000000000000000000000000000000000000000000000000000000"]}},703:function(e,t,a){"use strict";a.d(t,{db:function(){return d}});var s=a(69584),r=a(28239),l=a(44492);let i={apiKey:l.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:l.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:l.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:l.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:l.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:l.env.NEXT_PUBLIC_FIREBASE_APP_ID},n=0===(0,s.C6)().length?(0,s.ZF)(i):(0,s.C6)()[0],d=(0,r.ad)(n);t.Z=n},59691:function(e,t,a){"use strict";a.d(t,{UserDatabase:function(){return l}});var s=a(28239),r=a(703);class l{static async getOrCreateUser(e){let t=e.toLowerCase(),a=(0,s.collection)(r.db,"users"),l=(0,s.query)(a,(0,s.where)("walletAddress","==",t)),i=await (0,s.getDocs)(l);if(!i.empty){let e=i.docs[0];return{id:e.id,...e.data()}}let n={walletAddress:t,createdAt:s.EK.now(),updatedAt:s.EK.now()};return{id:(await (0,s.ET)(a,n)).id,...n}}static async updateUserProfile(e,t){let a=(0,s.JU)(r.db,"users",e);await (0,s.r7)(a,{profile:t,updatedAt:s.EK.now()})}static async getUserCollections(e){let t=(0,s.collection)(r.db,"collections"),a=(0,s.query)(t,(0,s.where)("userId","==",e));return(await (0,s.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}static async createCollection(e,t,a){let l=a.contractAddress?String(a.contractAddress).toLowerCase():void 0;if(l){let t=(0,s.collection)(r.db,"collections"),a=(0,s.query)(t,(0,s.where)("userId","==",e),(0,s.where)("contractAddress","==",l)),i=await (0,s.getDocs)(a);if(!i.empty){let e=i.docs[0];return{id:e.id,...e.data()}}}let i={...a,...l?{contractAddress:l}:{},userId:e,walletAddress:t.toLowerCase(),stats:{totalMinted:0,totalRevenue:"0",uniqueHolders:0},bannerImageUrl:"",avatarImageUrl:"",categories:[],headerImageUrl:"",thumbnailUrl:"",shareOnExplore:!1,createdAt:s.EK.now(),updatedAt:s.EK.now()},n=(0,s.collection)(r.db,"collections");return{id:(await (0,s.ET)(n,i)).id,...i}}static async updateCollection(e,t){let a=(0,s.JU)(r.db,"collections",e);await (0,s.r7)(a,{...t,updatedAt:s.EK.now()})}static async updateCollectionByContractAddress(e,t){let a=await l.findCollectionByContractAddress(e);if(!a)throw Error("Collection not found for contract address");await l.updateCollection(a.id,t)}static async findCollectionByContractAddress(e){let t=(0,s.collection)(r.db,"collections"),a=await (0,s.getDocs)((0,s.query)(t,(0,s.where)("contractAddress","==",e.toLowerCase())));if(a.empty&&(a=await (0,s.getDocs)((0,s.query)(t,(0,s.where)("contractAddress","==",e)))),a.empty)return null;let l=a.docs[0];return{id:l.id,...l.data()}}static async addAllowlistRound(e,t){let a=(0,s.JU)(r.db,"collections",e),l=(0,s.JU)((0,s.collection)(a,"allowlists"),t.id),i=(0,s.JU)((0,s.collection)(a,"allowlists"),"".concat(t.id,"-addresses")),n={id:t.id,name:t.name,root:t.root,size:t.size,priceWei:t.priceWei||"0",createdAt:s.EK.now(),updatedAt:s.EK.now()};"number"==typeof t.maxPerWallet&&(n.maxPerWallet=t.maxPerWallet),"number"==typeof t.maxPerTx&&(n.maxPerTx=t.maxPerTx),t.startsAt&&(n.startsAt=s.EK.fromDate(t.startsAt)),t.endsAt&&(n.endsAt=s.EK.fromDate(t.endsAt)),await (0,s.pl)(l,n),await (0,s.pl)(i,{addresses:t.addresses.map(e=>e.toLowerCase()),updatedAt:s.EK.now()})}static async deleteAllowlistRound(e,t){let a=(0,s.JU)(r.db,"collections",e);await (0,s.oe)((0,s.JU)((0,s.collection)(a,"allowlists"),t)),await (0,s.oe)((0,s.JU)((0,s.collection)(a,"allowlists"),"".concat(t,"-addresses")))}static async setCurrentAllowlist(e,t){await l.updateCollection(e,{currentAllowlistId:t})}static async getAllowlistAddresses(e,t){let a=(0,s.JU)(r.db,"collections",e),l=(0,s.JU)((0,s.collection)(a,"allowlists"),"".concat(t,"-addresses")),i=await (0,s.QT)(l);if(!i.exists())return[];let n=i.data();return Array.isArray(n.addresses)?n.addresses:[]}static async listAllowlistRounds(e){let t=(0,s.JU)(r.db,"collections",e),a=await (0,s.getDocs)((0,s.collection)(t,"allowlists")),l=[];return a.forEach(e=>{let t=e.data();t&&t.root&&t.id&&l.push(t)}),l}static async getAllowlistMeta(e,t){let a=(0,s.JU)(r.db,"collections",e),l=(0,s.JU)((0,s.collection)(a,"allowlists"),t),i=await (0,s.QT)(l);return i.exists()?i.data():null}static async getCollection(e){let t=(0,s.JU)(r.db,"collections",e),a=await (0,s.QT)(t);return a.exists()?{id:a.id,...a.data()}:null}static async deleteCollection(e){let t=(0,s.JU)(r.db,"collections",e);await (0,s.oe)(t)}static async updateCollectionDeployment(e,t){let a=(0,s.JU)(r.db,"collections",e);await (0,s.r7)(a,{deployment:t,status:"deployed",updatedAt:s.EK.now()})}static async updateCollectionStats(e,t){let a=(0,s.JU)(r.db,"collections",e);await (0,s.r7)(a,{stats:t,updatedAt:s.EK.now()})}}},61250:function(e,t,a){"use strict";var s=a(27797);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}})},69584:function(e,t,a){"use strict";a.d(t,{C6:function(){return s.C6},ZF:function(){return s.ZF}});var s=a(61214);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,s.KN)("firebase","12.2.1","app")}},function(e){e.O(0,[4729,5528,2719,487,799,959,6530,6833,4170,6842,1744],function(){return e(e.s=52773)}),_N_E=e.O()}]);